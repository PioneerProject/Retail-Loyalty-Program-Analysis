# Проект: "Ритейл — Анализ программы лояльности"

**Цель проведения проекта:**\
Изучить все собранные данные по продажам за период с 01.12.2016 8:26 по 28.02.2017 17:44, и определить эффективность внедренной программы лояльности. Показатели для оценки программы необходимо выбрать самостоятельно.

**Задачи проекта:**
1. Произвести декомпозицию задач.
2. Изучить полученные данные.
3. Провести предобработку данных.
4. Провести исследовательский анализ данных.
5. Определить метрики для оценки бизнес показателей и провести их анализ.
6. Сформулировать вывод об эффективности программы лояльности.
    - Если программа окажется эффективной, то предложить способы повышения ее эффективности и обосновать внедрение других программ;
    - Если программа окажется не эффективной, то предложить каких еще клиентов стоит подключить к программе лояльности.
7. Сформулировать и проверить статистические гипотезы
8. Подготовить презентацию.

## Декомпозиция задач проекта:

1. Загрузка и знакомство с данными\
    1.1 Подключить необходимые библиотеки\
    1.2 Загрузить данные из полученных файлов формата .csv\
    1.3 Сделать обзор первых десяти строк\
    1.4 Прочитать общую информацию о полученных датасетах\
    1.5 Прочитать общую статистическую информацию о датасетах
    
2. Предобработка данных\
    2.1 Объединение двух датасетов в один\
    2.2 Привести все строки и значения к форматам по правилам хорошего тона\
    2.2 Обзор и приведение данных к необходимому формату\
    2.2 Поиск, обзор и удаление явных дубликатов\
    2.3 Поиск, обзор и удаление не явных дубликатов\
    2.4 Заполнение пропусков значениями (где это возможно)\
    2.5 Указать причины отказа от заполнения пропусков, в случаях где это необходимо\
    2.6 Сделать обзор данных по количеству товара. Обосновать наличие отрицательных и нулевых значений\
    2.7 Проверить и обработать аномальные значения по количеству покупок\
    2.8 Добавить колонку с месяцем оформления покупки\
    2.9 Добавить расчетные данные по сумме покупки
    
3. Исследовательский анализ данных\
    3.1 Обзор периода исследования\
    3.2 Обзор уникальных значений магазинов\
    3.3 Обзор уникальных значений программ лояльности\
    3.2 Изучить количество покупателей в разрезе категорий по признаку участия в программе лояльности\
    3.3 Изучить количество и суммы покупок в разрезе категорий покупателей по признаку участия в программе лояльности\
    3.4 Обзор максимальных и минимальных значений количества товаров в чеке в каждой категории покупателей\
    3.5 Обзор максимальных и минимальных значений сумм покупок в чеке в каждой категории покупателей\
    3.6 Выявить, какие товары чаще и больше покупает каждая категория покупателей\
    3.7 Обзор продаж в разрезе месяцев и категорий покупателей
    
4. Работа с метриками и бизнес-показателями\
    4.1 Рассчитать средний чек покупателей в разрезе категорий по признаку участия в программе лояльности\
    4.2 Рассчитать среднее количество покупателей в день по признаку участия в программе лояльности\
    4.3 Рассчитать количество купленного товара, в разрезе категорий покупателей\
    4.4 Рассчитать пожизненную ценность клиента LTV в зависимости от участия в программе лояльности
    
5. Проверка гипотез\
    5.1 Средний чек участников программы лояльности выше, чем у остальных покупателей\
    5.2 Сумма покупок у участников программы больше, чем у остальных участников
    
6. Построение дашборда\
    6.1 Выгрузка агрегированных данных по продажам обеих категорий покупателей\
    6.2 Определение основных метрик для построения дашбрда\
    6.3 Публикация дашборда
    
7. Выводы и рекомендации для заказчика

8. Презентация с результатами исследования


**Статус проекта**
Проект завершен. Возможна модификация кода, с целью оптимизации.

**Выводы**

1. В результате загрузки исходных данных и их первичном обзоре были выявлены:

	- пропуски в датасетах retail_dataset;
	- нарушения оформления наименований столбцов, не соответствующих правилам хорошего тона в датасете product_codes
	- большой разброс значений в данных о ценах на товары в датасете product_codes

2. При предобработке данных были перемены инструменты и методы позволившие привести наименование строк и столбцов к форме хорошего тона. 
Также датасет product_codes был очищен от дубликатов и заменены значения цен на расценки, рассчитанные по медиане.
После чего датасеты был объединены в единый информационный датафрейм.
И в дальнейшем, данные были очищены от дубликатов, заполнены пропуски, усечены аномальные выбросы.
В заключении добавлены данные по месяцу формирования чека, а также суммы покупки.
По итогам работы в данном разделе, потери данных составили 37.02%, это весьма существенно. Основная потеря данных произошла на этапе очистки 
датасета от ошибочного значения количества товаров, которое было равно нулю.
Несмотря на это, решение об очистке от ошибочных данных позволило более качественно сделать анализ и оценить результаты.

3. По результатам исследования данных были сделаны следующие выводы:
	- Обзор периода данных показал пробел (отсутствие) данных в периоде с 23.12.2016 по 04.01.2017, что может говорить о закрытии магазина 
на новогодние выходные;
	- В обзоре учувствует 30 магазинов сети, из которых один shop 0 наиболее популярен;
	- Всего действует одна программа лояльности, которая кодируется значением 1. Значение 0 означает, что покупатель не принимает участие 
в программе лояльности;
	- Количество пользователей не участвующих в программе 1070 пользователей. Количество пользователей из программы лояльности 
составляет 544.
	- Количество покупателей снижается в январе по обеим когортам и суммарно составляет -140 пользователей. В феврале количество 
покупателей в когорте участников программы лояльности дало небольшой прирост в 4%, что несущественно компенсировало потери января и февраля 
по когорте нелояльных пользователей. Суммарно потери по обеим когортам за обозреваемый период составило 134 покупателя, что составляет 8% от 
всей численности.
	- Количество чеков каждый месяц становится меньше. Общие потери составили 440 единицы. Однако в феврале был небольшой прирост в 
когорте лояльных пользователей +34, что последствии положительно повлияло на финансовые показатели в данной группе. Причины локального роста
 необходимо дополнительно изучить, для возможного примера точки роста продаж.
	- Суммы продаж от месяца к месяцу также снижаются, что должно насторожить руководство магазина. Потери в выручке составили -174908.58 руб. 
к базе декабря, накопительным способом. Также как и с количеством прироста пользователей с картами лояльности, в феврале был небольшой рост 
выручки. Это также необходимо включать в анализ причин.
	- Количество реализованного товара также снижается от месяца к месяцу и суммарно составили -41557 ед. товара, по отношению к базе 
декабря. Также в группе лояльных клиентов был локальный прирост в феврале, который коррелирует с приростом покупателей в этом месяце.
	- Топ-10 товаров, покупаемых обеими когортами покупателей, почти не совпадают друг с другом.
Т.о. можно сделать предварительные выводы о том, что магазин теряет в пользователях, в выручке и объемах продаж. Однако есть локальный
 положительный пример в феврале в группе покупателей с картами лояльности, который необходимо изучить, с целью повышения продаж сети 
магазинов. Также необходимо изучить практику продаж магазина shop 0 который в сотни раз продает больше остальных магазинов сети.

4. По результатам работы с метриками и бизнес показателями сделаны следующие выводы:
	- Расчёт среднего чека покупателей в разрезе категорий по признаку участия в программе лояльности показал, что у пользователей 
программы лояльности на протяжении трех месяцев, ниже чем у покупателей еще не вступивших в нее. Возможно здесь сказывается короткий 
тестовый период и на более длительном временном лаге 
картина поменяется, но за прошедшие месяцы внедрения программы, результаты такие, как есть.
 	- Расчёт среднего количества покупателей в день показал, что общее количество пользователей не из программы лояльности больше, по 
сравнению 
с конкурирующей группой. Это заметно как в общем объеме за обозреваемый период, так и в разрезе каждого отдельно взятого месяца; 
	- Расчёт пожизненной ценности клиента LTV в зависимости от участия в программе лояльности показал, что пользователи, участвующие в 
программе, 
имеют большую ценность, по сравнению с конкурирующей группой, не смотря на численное превосходство последних. Однако динамика роста LTV 
пользователей,
не использующих карты лояльности, более динамична и к концу лайфтайма уже достигает начальных уровней покупателей из программы лояльности.

5. На этапе проверки гипотез был использован U-тест Манна-Уитни по следующим предположениям:
	- Средний чек участников программы лояльности равен, тому же показателю в конкурирующей группе. Согласно статистическому анализу 
средних чеков покупателей, участвующих в программе лояльности и не участвующих, гипотеза о разности средних чеков подтвердилась. Результаты
 теста говорят о  реальных и не случайных различиях в выборках средних чеков обеих когорт.  Это также означает, что средний чек у двух групп 
разный. Данное обстоятельство должно натолкнуть на размышления об необходимости продолжения проведения наблюдений за показателем среднего 
чека в этих различных группах покупателей. 
	- Среднее количество купленного товара покупателями из программы лояльности равно тому же показателю конкурирующей группы. Что же 
касается количества купленного товара покупателями обеих категорий, то статистический анализ дает ответ о том, что посетители покупают 
одинаковое количество. По этой причине необходимо проанализировать программу лояльности на предмет мотивации покупателей с катарами 
лояльности, покупать больше товаров.

6. [Ссылка на дашборд](https://public.tableau.com/views/Project_Retail_Loyaltyprogramanalysis/Dashboard1?:language=en-US&publish=yes&:display_count=n&:origin=viz_share_link)

7. Рекомендации для заказчика: На наш взгляд стоит продлить действие программы лояльности еще на один месяц, чтобы посмотреть динамику 
среднего чека и количества покупаемого товара обеими категориями покупателей. При этом нужно срочно исследовать факторы, влияющие на 
отток клиентов, снижение количества покупаемого товара и как следствие снижение выручки. Также необходимо срочно изучить феномен роста 
привлекательности магазина в феврале у покупателей с картами лояльности. Это поможет справиться с негативными трендами по снижению основных 
коммерческих показателей.
